---
layout : single
title : "CSRF란 무엇인가"
categories:
  - web
tags:
  - csrf
  - web
toc: true
toc_label: "목록"
toc_icon: "bars"
toc_sticky: true
date: 2023-08-05T1:00:00Z
---

## CSRF 무엇인가

CSRF 공격(Cross Site Request Forgery) 

- 위조 요청을 전송하는 서비스(페이스북, 카카오, 네이버 기타 등등..)에 희생자가 로그인 상태
- 희생자가 해커가 만든 피싱 사이트에 접속
```java
@Bean
protected SecurityFilterChain webSecurityFilterChain(HttpSecurity http) throws Exception {
    return http
            .authorizeHttpRequests(auth -> {
                auth.requestMatchers(
                        "/",
                        "/login/*",
                        "/logout",
                        "/favicon.*",
                        "/error"
                ).permitAll();
                auth.anyRequest().authenticated();
            })
            .oauth2Login(config -> {
                config.userInfoEndpoint(userInfoEndpointConfig -> {
                    userInfoEndpointConfig.userService(oAuthService);
                });
                //config.successHandler()
                config.defaultSuccessUrl("/");
            }) // OAUTH2.0 google 로그인 허용

            .formLogin(formLogin -> formLogin.disable()) // 기본 로그인 허용 X
            .cors(Customizer.withDefaults()) // CORS 기본 CorsConfigurationSource 사용
            .csrf(csrf -> csrf.disable()) // CSRF 방어 로직
            .build();
}
```

Spring 에도 위와 같은 구문에서 이런식으로 방어 한다 이렇게 하는 이유와 CSRF는 무엇인지 확인해보자
```java
 .csrf(csrf -> csrf.disable()) // CSRF 방어 로직
```


